## 1. 랭체인 메모리(`Memory`)

### 개념
* **개념**: 랭체인이 LLM과 대화할 때 과거 대화 내용을 기억하고 참고하도록 돕는 도구

* **역할**: 대화의 맥락을 유지하여 더 자연스럽고 연속적인 상호작용을 가능하게 하는 것. 메모리가 없다면, LLM은 매번 새로운 대화를 시작하는 것처럼 행동하여 이전 대화의 내용을 전혀 기억하지 못하게 됨.

* **예시**:
    * **메모리가 없을 때**:
        * **나**: `"나는 햄버거를 좋아해."`
        * **LLM**: `"알겠습니다."`
        * **나**: `"그럼 내가 좋아하는 음식을 추천해줘."`
        * **LLM**: `"잘 모르겠습니다."` **(→ "햄버거"를 기억하지 못함)**
  
    * **메모리가 있을 때**:
        * **나**: `"나는 햄버거를 좋아해."`
        * **LLM**: `"알겠습니다."`
        * **나**: `"그럼 내가 좋아하는 음식을 추천해줘."`
        * **LLM**: `"햄버거를 좋아하시는군요. 새로운 햄버거 가게를 추천해 드릴까요?"` **(→ "햄버거"를 기억하고 질문에 활용)**

### 요약

| 개념 | 역할 | 비유 |
|---|---|---|
| `과거 대화 내용`을 `기억`하는 도구 | 대화의 맥락을 유지하고 `연속적인 상호작용`을 가능하게 함 | 사람의 **`기억`** 또는 대화 내용을 적어놓은 **`메모지`** |

<br>

## 2. 랭체인의 종류 및 학습 순서


### **1) 대화 버퍼 메모리 (`ConversationBufferMemory`)**
* **개념**: `대화 내용을 그대로 통째로 저장`하는 메모리
* **역할**: 
    * 가장 `기본적인 형태`의 메모리 
    * 이전 대화 내용을 그대로 기억해서 필요한 경우 다시 불러오는 역할
    * **`≒ 통째로 녹화된 비디오 테이프`**

<br>

### **2) 대화 버퍼 윈도우 메모리 (`ConversationBufferWindowMemory`)**
* **개념**: `최근 몇 개의 대화만 저장`하는 메모리
* **역할**: 
    * 오래된 대화는 잊고, `최근 대화에만 집중`하여 저장
    * **`≒ 책상 위에 최근에 읽은 책 몇 권만 남겨놓고 나머지는 책장에 정리하는 것`**

<br>

### **3) 대화 토큰 버퍼 메모리 (`ConversationTokenBufferMemory`)**
* **개념**: 저장할 대화 내용을 `토큰(단어 조각)의 개수를 기준으로 제한`하는 메모리
* **역할**: 
    * 메모리 사용량을 `효율적으로 관리`하여, `지정된 토큰 수만큼만 대화를 기억`
    * **`≒ 글자 수 제한이 있는 짧은 메모지`**

<br>

### **3) 대화 엔티티 메모리 (`ConversationEntityMemory`)**
* **개념**: 대화에 등장하는 **`특정 인물`** 이나 **`사물`** 등의 **`중요한 정보(엔티티)`를 따로 저장** 하는 메모리
* **역할**: 
    * 대화의 흐름과 관계없이, `특정 중요한 사실`들을 오랫동안 기억
    * **`≒ 사람들의 이름이나 별명을 기억하는 수첩`**

<br>

### **4) 대화 지식 그래프 메모리 (`ConversationKnowledgeGraphMemory`)**
* **개념**: 대화 내용을 **`지식 그래프`** 라는 `복잡한 네트워크 형태`로 정리하여 저장하는 메모리
* **역할**: 
    * `대화 속 여러 정보들의 관계를 파악`하고 연결하여, `더 깊이 있는 대화를 가능`하게 함
    * **`≒ 복잡한 인물 관계도를 그려놓은 메모`**

<br>

### **5) 대화 요약 메모리 (`ConversationSummaryMemory`)**
* **개념**: `길었던 대화를 요약`해서 `저장`하는 메모리
* **역할**: 
    * 모든 대화 내용을 기억하는 대신, **`핵심 내용만 간결하게 요약하여 저장`**
    * **`≒ 길었던 회의 내용을 간단한 요약본으로 정리한 것`**

<br>

### **6)벡터 저장소 검색 메모리 (`VectorStoreRetrieverMemory`)**
* **개념**: 대화 내용을 `벡터(숫자 배열)로 변환`하여 저장하고, **필요할 때 `검색`해서 불러오는 메모리**
* **역할**: 
    * `매우 방대한 양의 정보를 저장`하고, 사용자가 질문하는 내용과 **`가장 유사한 정보를 찾아냄`**
    * **`≒ 원하는 정보를 검색창에 입력하면 수많은 자료 중에서 찾아주는 도서관 검색 시스템`**


### **`정리`**

| 메모리 종류 | 저장 방식 | 주요 역할 |
|---|---|---|
| **대화 버퍼 메모리** | 모든 대화 내용 | 대화 내용을 `통째로` 기억 |
| **대화 버퍼 윈도우 메모리** | 최근 대화 내용 | `최근 대화`에 집중 |
| **대화 토큰 버퍼 메모리** | `토큰(단어 조각) 수` | 메모리 사용량 효율적 관리 |
| **대화 엔티티 메모리** | 특정 인물/사물 | `중요한 사실`을 `오랫동안` 기억 |
| **대화 지식 그래프 메모리** | `지식 그래프` | `정보 간의 관계`를 파악 |
| **대화 요약 메모리** | 대화 내용 요약 | `핵심 내용`만 `간결`하게 기억 |
| **벡터 저장소 검색 메모리** | `벡터` | 방대한 정보 중에서 `유사한 내용` 검색 |

---