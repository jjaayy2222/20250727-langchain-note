# TimeWeightedVectorStoreRetriever M1 Mac μ»¤λ„ μ¶©λ ν•΄κ²°

## π“ λ¬Έμ  μƒν™©
> **λ‚ μ§**: 2025-10-02 ~ 10-03
> **ν™κ²½**: `M1 Mac`, `Jupyter Notebook`, `Python 3.13.5`
> **λ©ν‘**: `TimeWeightedVectorStoreRetriever` κµ¬ν„

## π” λ°μƒν• λ¬Έμ 
### μ¦μƒ
- `retriever.add_documents()` νΈμ¶μ‹ μ»¤λ„ μ¶©λ
- `FAISS`/`Chroma` λ¨λ‘ λ™μΌ μ¦μƒ
- 384, 768, 1536, 3048 μ°¨μ› λ¨λ‘ μ‹¤ν¨

### μ—λ¬ ν¨ν„΄
```bash
    Kernel died, restarting...
```

## π”§ μ‹λ„ν• ν•΄κ²°μ±…λ“¤

### μ‹λ„ 1: μ„λ² λ”© μ°¨μ› λ³€κ²½ β
- 384μ°¨μ›: `all-MiniLM-L6-v2` *by huggingface embedding model*
- 768μ°¨μ›: `paraphrase-multilingual-mpnet` *by huggingface embedding model*
- 1536μ°¨μ›: `fake embeddings` *by huggingface embedding model*
- 3048μ°¨μ›: `google-embedding-model`
- **κ²°κ³Ό**: λ¨λ‘ μ‹¤ν¨ β†’ `FAISS`μ™€ `M1`μ νΈν™ μΆ‹μ§€ μ•λ‹¤κ³  νλ‹¨ β†’ `Chroma`λ΅ λ³€κ²½ μ‹λ„

### μ‹λ„ 2: λ²΅ν„°μ¤ν† μ–΄ λ³€κ²½ β
- `FAISS` β†’ μ»¤λ„ μ¶©λ
- `Chroma` β†’ μ»¤λ„ μ¶©λ
- **κ²°κ³Ό**: **`λ²΅ν„°μ¤ν† μ–΄ λ¬Έμ  μ•„λ‹`**

### μ‹λ„ 3: ν™κ²½ μ „ν™ β…
- `M1 Mac` β†’ **`Google Colab`**
- κ°€μ¥ λ‚®μ€ 384μ°¨μ› μ„λ² λ”© λ¨λΈλ¶€ν„° μ‹λ„
- **κ²°κ³Ό**: ν•λ²μ— μ„±κ³µ!

## π’΅ μ›μΈ λ¶„μ„

### κ·Όλ³Έ μ›μΈ
**`TimeWeightedVectorStoreRetriever` μμ²΄κ°€ `M1 Mac` λΉ„νΈν™**

### κΈ°μ μ  μ›μΈ
- `M1` ARM μ•„ν‚¤ν…μ²μ™€ `LangChain` λΌμ΄λΈλ¬λ¦¬ μ¶©λ
- `add_documents()` λ‚΄λ¶€ λ©”λ¨λ¦¬ κ΄€λ¦¬ μ΄μ
- νΉν μ‹κ°„ λ©”νƒ€λ°μ΄ν„° μ²λ¦¬ λ¶€λ¶„μ—μ„ μ¶©λ

### μ°Έκ³  μλ£
- `LangChain GitHub Issues`: TimeWeighted M1 κ΄€λ ¨ μ΄μ λ‹¤μ
- μ»¤λ®¤λ‹ν‹° κ¶μ¥: Colab λλ” μλ™ κµ¬ν„

## β… μµμΆ… ν•΄κ²°μ±…

### Solution 1: Google Colab (μ±„νƒ)
```python
    # Colabμ—μ„ κµμ¬ κ·Έλ€λ΅ μ‹¤ν–‰
    # 100% μ„±κ³µ
```

**μ¥μ :**
- κµμ¬ μ™„λ²½ μ¬ν„
- μ„¤μ • λ³€κ²½ λ¶ν•„μ”
- μ•μ •μ  λ™μ‘

**λ‹¨μ :**
- λ΅μ»¬ ν™κ²½ μ•„λ‹
- μΈν„°λ„· ν•„μ”

### Solution 2: μλ™ κµ¬ν„ (λ€μ•)
```python
    # Manual time-weighted search
    # Chroma(λ“± κ°μμ ν™κ²½μ— λ§λ” λ²΅ν„°μ¤ν† μ–΄ μ„ νƒ) + ν›„μ²λ¦¬ λ°©μ‹
```

**μ¥μ :**
- M1 μ™„λ²½ νΈν™
- μ»¤μ¤ν„°λ§μ΄μ§• κ°€λ¥

**λ‹¨μ :**
- κµμ¬μ™€ λ‹¤λ¦„
- κµ¬ν„ λ³µμ΅λ„ μ¦κ°€

## π“ μ„±κ³Ό

| ν•­λ© | κ²°κ³Ό |
|------|------|
| **ν™κ²½** | Google Colab |
| **μ†μ” μ‹κ°„** | 5λ¶„ (Colab μ„¤μ • ν›„) |
| **μ„±κ³µλ¥ ** | 100% |
| **κµμ¬ μ¬ν„** | μ™„λ²½ |

## π― κµν›

### 1. ν™κ²½ λ¬Έμ λ” ν™κ²½ μ „ν™μΌλ΅
- μ–µμ§€λ΅ M1μ—μ„ ν•΄κ²°ν•λ ¤ ν•μ§€ λ§ κ²ƒ
- μ μ ν• ν™κ²½ μ„ νƒμ΄ μ¤‘μ”

### 2. κ°λ… μ΄ν•΄κ°€ μ°μ„ 
- TimeWeighted κ°λ…μ€ μ™„μ „ν μ΄ν•΄
- κµ¬ν„ λ°©λ²•μ€ μ—¬λ¬ κ°€μ§€ κ°€λ¥

### 3. νΈλ¬λΈ”μν… κ°€μΉ
- 2μΌκ°„ κ³ μƒ β†’ λ¬Έμ  ν•΄κ²° κ²½ν—
- ν¬νΈν΄λ¦¬μ¤ μ†μ¬λ΅ ν™μ©

## π”— κ΄€λ ¨ μ‘μ—…
- #32.12: SelfQueryRetriever (OpenAI μ „ν™)
- #32.11: MultiVectorRetriever (λ΅μ»¬ LLM)
- M1 νΈν™μ„± μ—°κµ¬
